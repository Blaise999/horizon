@import "tailwindcss";

/* ─────────────────────────────────────────────────────────────
   0) Robust base reset for mobile layout stability
   ───────────────────────────────────────────────────────────── */
*,
*::before,
*::after { box-sizing: border-box; }
html, body { height: 100%; }
html { -webkit-text-size-adjust: 100%; }
body {
  margin: 0;
  overflow-x: hidden;                 /* kill accidental sideways scroll */
  overscroll-behavior-y: none;        /* smoother iOS bounce */
  color: var(--c-text);
  background:
    radial-gradient(1200px 600px at 30% -10%, var(--c-canvas-top), transparent),
    linear-gradient(180deg, var(--c-canvas-top), var(--c-canvas-bot));
}
img, svg, video, canvas { display:block; max-width:100%; height:auto; }

/* dynamic viewport utilities (svh → dvh → vh) */
.min-h-mobile { min-height: 100vh; }
@supports (height: 100dvh) { .min-h-mobile { min-height: 100dvh; } }
@supports (height: 100svh) { .min-h-mobile { min-height: 100svh; } }

/* Safe-area shims (so content below hero never hugs the notch/edge) */
.safe-x {
  padding-left: calc(env(safe-area-inset-left, 0px) + 1rem);
  padding-right: calc(env(safe-area-inset-right, 0px) + 1rem);
}
.safe-top  { padding-top:  calc(env(safe-area-inset-top, 0px) + 0px); }
.safe-bot  { padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 0px); }

/* ─────────────────────────────────────────────────────────────
   1) Design Tokens (unchanged visuals)
   ───────────────────────────────────────────────────────────── */
:root {
  --c-canvas-top: #0B0F14;
  --c-canvas-bot: #0E131B;
  --c-vignette: rgba(0,0,0,0.44);
  --c-text: #E6EEF7;
  --c-text-2: #9BB0C6;
  --c-text-muted: #8AA0B7;
  --c-cyan: #00E0FF;
  --c-cta: #00B4D8;
  --c-success: #33D69F;
  --c-danger: #FF6B6B;
  --c-hairline: #FFFFFF14;
  --c-divider: #FFFFFF0D;

  --r-card: 16px; --r-chip: 12px; --r-btn: 24px;

  --sh-elev1: 0 6px 20px rgba(0,0,0,.35);
  --sh-elev2: 0 10px 30px rgba(0,0,0,.45), 0 0 0 0 rgba(0,212,255,.09);

  --fs-12: 12px; --fs-14: 14px; --fs-16: 16px; --fs-18: 18px;
  --fs-20: 20px; --fs-28: 28px; --fs-40: 40px; --fs-56: 56px;

  --space-8: 8px;
  --container-max: 72rem;

  /* Section pad scales a bit with screen height */
  --pad-section-mb: clamp(3.5rem, 6vh, 5rem);
  --pad-section-dt: 7rem;

  --t-enter: 280ms; --t-hover: 140ms; --t-tap: 120ms; --t-large: 580ms; --stagger: 70ms;

  --focus: 0 0 0 2px var(--c-cyan);
}
* { outline-color: var(--c-cyan); }
:focus-visible { box-shadow: var(--focus); border-radius: 6px; }

/* Tailwind v4 theme tokens (optional) */
@theme inline {
  --color-text: var(--c-text);
  --color-text-2: var(--c-text-2);
  --color-text-muted: var(--c-text-muted);
  --color-cyan: var(--c-cyan);
  --color-cta: var(--c-cta);
  --color-success: var(--c-success);
  --color-danger: var(--c-danger);
  --color-hairline: var(--c-hairline);
  --color-divider: var(--c-divider);
  --radius-card: var(--r-card);
  --radius-chip: var(--r-chip);
  --radius-btn: var(--r-btn);
}

/* ─────────────────────────────────────────────────────────────
   2) Layout utilities (single source of truth)
   ───────────────────────────────────────────────────────────── */

/* Container (unify duplicates; keeps you perfectly centered below hero) */
.container-x {
  margin-inline: auto;
  max-width: var(--container-max);
  padding-inline: 1rem;
}
@media (min-width:640px){ .container-x { padding-inline: 1.5rem; } }
@media (min-width:768px){ .container-x { padding-inline: 2.5rem; } }

/* Section spacing */
.section-pad { padding-block: var(--pad-section-mb); }
@media (min-width:768px){ .section-pad { padding-block: var(--pad-section-dt); } }

/* A gentle width clamp so Balance → Vault → FX never look cramped or spill */
.content-clamp {
  width: 100%;
  max-width: 52rem;               /* ~832px on wide phones/tablets */
  margin-inline: auto;
}

/* Card + hover (unchanged visuals, just stable) */
.card {
  border-radius: var(--r-card);
  background: rgba(255,255,255,0.05);
  border: 1px solid var(--c-hairline);
  box-shadow: var(--sh-elev1);
  transition: transform var(--t-hover), box-shadow var(--t-hover);
}
.card:hover { transform: translateY(-2px); box-shadow: var(--sh-elev2); }

/* Hairline divider */
.hairline { height:1px; background: var(--c-hairline); }

/* Links underline animation */
.underline-anim { position: relative; }
.underline-anim::after{
  content:""; position:absolute; left:50%; bottom:-2px; height:1px; width:0;
  background: var(--c-cyan); transform: translateX(-50%); transition: width var(--t-hover);
}
.underline-anim:hover::after{ width:100%; }

/* Shimmer headline */
@keyframes shimmer { 0%,98%{background-position:-200% 0} 100%{background-position:200% 0} }
.shimmer{
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  background-size:200% 100%; animation: shimmer 12s linear infinite;
}
@media (prefers-reduced-motion: reduce){
  .shimmer{ animation:none; color:inherit; -webkit-background-clip:initial; background-clip:initial; }
}

/* Tabular numbers */
.num { font-variant-numeric: tabular-nums lining-nums; }

/* ─────────────────────────────────────────────────────────────
   3) Premium theme helpers (unchanged look)
   ───────────────────────────────────────────────────────────── */
:root{
  --surface-0:#0B0F14;
  --surface-1:#0E131B;
  --ink-1:#E6EEF7;
  --ink-2:#A9C0DF;
  --ink-3:#8AA0B7;
  --brand:#00E0FF;
  --brand-2:#9B5CFF;
  --hairline:#FFFFFF14;
}
.card{ @apply rounded-2xl bg-[#101826] border border-[var(--hairline)]; }
.shimmer{
  background: linear-gradient(90deg,var(--ink-1), var(--ink-2), var(--ink-1));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  background-size:200% 100%; animation: shimmer 5s linear infinite;
}

/* Hero canvas */
.bg-hero{
  position: relative; overflow:hidden;
  background:
    radial-gradient(900px 480px at 50% -10%, rgba(0,212,255,.16), transparent),
    linear-gradient(180deg,var(--surface-0), #101826);
}
.bg-hero::before{
  content:""; position:absolute; inset:0; pointer-events:none;
  background: radial-gradient(1200px 600px at 50% 0%, rgba(0,0,0,.0), rgba(0,0,0,.55));
}
.bg-hero::after{
  content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend-mode:overlay;
  background-image:url("/textures/grain.png"); background-size:600px;
}

/* Glow ring (Balance card) */
.glow-ring{
  box-shadow: 0 0 0 1px rgba(0,224,255,.45), 0 14px 60px rgba(0,224,255,.15);
}

/* Gradient border utility */
.grad-border{ position:relative; border-radius:18px; background:#101826; }
.grad-border::before{
  content:""; position:absolute; inset:0; padding:1px; border-radius:inherit;
  background: linear-gradient(90deg,var(--brand), var(--brand-2));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  pointer-events:none;
}

/* Glass reflection streak */
.card-glass{ position:relative; overflow:hidden; }
.card-glass::after{
  content:""; position:absolute; inset:-30%; transform: translateX(-60%);
  background: linear-gradient(60deg, transparent 45%, rgba(255,255,255,.08) 50%, transparent 55%);
  transition: transform .9s cubic-bezier(.22,.61,.36,1);
}
.card-glass:hover::after{ transform: translateX(60%); }

/* Hero label */
.label{ font-size:12px; letter-spacing:.12em; text-transform:uppercase; color:var(--ink-3); }
.lux-lead{ line-height:1.2; }

/* ─────────────────────────────────────────────────────────────
   4) Small fixes that were causing the misalignment you showed
   ───────────────────────────────────────────────────────────── */

/* Never let any section create horizontal bleed from inner shadows/glows */
.section-guard { overflow-x: clip; }

/* Keep the “Balance → Smart Vault → FX” column tidy on tiny phones */
.stack-tight > * + * { margin-top: 1rem; }
@media (min-width:768px){ .stack-tight > * + * { margin-top: 1.25rem; } }

/* ─────────────────────────────────────────────────────────────
   NAV: only-edited block (backdrop + shadow tokens + fallback)
   ───────────────────────────────────────────────────────────── */
.nav-header {
  /* Fallback background for browsers without color-mix */
  background: linear-gradient(180deg, rgba(11,15,20,0.92), rgba(16,24,38,0.78));
  /* Allow per-page glass via CSS var (no JS reads) */
  -webkit-backdrop-filter: var(--header-backdrop, none);
  backdrop-filter: var(--header-backdrop, none);
  /* Border/shadow controlled via tokens — inline styles can still override */
  border-bottom: 1px solid rgba(255,255,255, var(--nav-border-alpha, 0.08));
  box-shadow: var(--header-shadow-rest, 0 10px 28px rgba(0,0,0,.22));
}
@supports (background: color-mix(in oklab, red 50%, black)) {
  .nav-header { background: unset; }
}

/* Base tokens (optional defaults) */
:root {
  --page-grad-top: #0b0f14;
  --page-grad-bot: #0b0f14;
  --c-text: #E6EEF7;
  --c-text-2: #9BB0C6;
  --c-hairline: #FFFFFF1A;
  --c-cta: linear-gradient(90deg,#00B4D8,#00E0FF);
  --r-btn: 14px;
  --r-chip: 12px;
  --header-backdrop: none;
  --header-shadow-rest: 0 10px 28px rgba(0,0,0,.22);
  --header-shadow-scrolled: 0 6px 24px rgba(0,0,0,.30);
}

/* Carousels / rails: add safe area padding at edges */
.rail-x {
  overflow-x: auto;
  padding-inline: calc(env(safe-area-inset-left,0px) + 12px);
  scroll-padding-inline: 12px;
}
